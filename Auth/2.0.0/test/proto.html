<!DOCTYPE html><html xml:lang="ja" lang="ja"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style type="text/css">
/*::$lib/CSS/1.3.0/core.css::*/
</style>
<!--::$src/cdn.html::-->
<!--
  1: 一般公開部分
  2: 参加者向け
  4: スタッフ向け
  8: コアスタッフ(受付担当)向け
-->
</head><body>
<div style="display:none" name="camp2024_id"><?= camp2024_id ?></div>
<p class="title">校庭キャンプ2024</p>
<div class="BurgerMenu screen" name="wrapper">
  <div data-BurgerMenu="id:'イベント情報',auth:15">
    <div data-BurgerMenu="id:'掲示板',auth:2">【未実装】掲示板</div>
    <div data-BurgerMenu="id:'実施要領',auth:15">
      <!--::$tmp/実施要領.html::-->
    </div>
    <div data-BurgerMenu="id:'注意事項',auth:15">
      <!--::$tmp/注意事項.html::-->
    </div>
    <div data-BurgerMenu="id:'持ち物リスト',auth:15">
      <!--::$tmp/持ち物リスト.html::-->
    </div>
    <div data-BurgerMenu="id:'タイムテーブル',auth:14">【未実装】タイムテーブル</div>
    <div data-BurgerMenu="id:'会場案内図',auth:14">
      <!--::$tmp/map2023.svg::-->
    </div>
    <!--div data-BurgerMenu="id:'肝試しルート'"><!-:x:$user/肝試しルート.svg::-></div-->
  </div>
  <div data-BurgerMenu="id:'参加者情報',auth:14">
    <div data-BurgerMenu="id:'参加者パス',auth:14">【未実装】参加者パス</div>
    <div data-BurgerMenu="id:'登録・修正・キャンセル',auth:14">【未実装】登録・修正・キャンセル</div>
  </div>
  <div data-BurgerMenu="id:'スタッフ用',auth:12">
    <div data-BurgerMenu="id:'スタッフ応募状況',auth:12"><!-- スタッフ応募(募集)状況＋応募フォーム --></div>
    <div data-BurgerMenu="id:'掲示板への投稿',auth:12">【未実装】掲示板への投稿</div>
    <div data-BurgerMenu="id:'参加者集計',auth:12">【未実装】参加者集計</div>
    <div data-BurgerMenu="id:'参加者受付',auth:8"><!-- 参加者情報検索・編集 --></div>
    <div data-BurgerMenu="id:'気づき投稿',auth:12">【未実装】気づき投稿</div>
    <div data-BurgerMenu="id:'アクセス分析',auth:12">【未実装】アクセス分析</div>
  </div>
  <div data-BurgerMenu="id:'その他',auth:14">
    <div data-BurgerMenu="id:'参加者アンケート回答',auth:2">【未実装】参加者アンケート回答</div>
    <div data-BurgerMenu="id:'システム設定',auth:14">
      <!--::$tmp/system.html::-->
    </div>
    <div data-BurgerMenu="id:'関連サイトへのリンク',auth:15">
      <!--::$user/リンク集.html::-->
    </div>
  </div>
  <div data-BurgerMenu="id:'受付番号入力',auth:1,func:'enterId'"></div>
</div></body>
<script type="text/javascript">
//::$tmp/script.js::
window.addEventListener('DOMContentLoaded',() => {
  const v = {whois:'DOMContentLoaded',rv:null,step:0};
  console.log(`${v.whois} start.`);
  try {

    v.config = {auth:1};
    v.config.id = document.querySelector('[name="camp2024_id"]').innerText;
    if( v.config.id.length === 0 )
      v.config.id = localStorage.getItem("camp2024_id");
    if( v.config.id !== null ){
      localStorage.setItem('camp2024_id',v.config.id);
      v.config.id = Number(v.config.id);
      v.config.auth = 2;
    }
    console.log(`id=${v.config.id}`);

    v.auth = new authClient();
    v.menu = new BurgerMenu({auth:v.config.auth,func:{
      enterId:()=>{
        const v = window.prompt('受付番号を入力してください');
        if( v.match(/^[0-9]+/) ){
          localStorage.setItem('camp2024_id',Number(v));
          this.genNavi({auth:2});
        }
      }
    }});

    v.step = 99; // 終了処理
    console.log(`${v.whois} normal end.`);
    return v.rv;
  } catch(e) {
    e.message = `${v.whois} abnormal end at step.${v.step}\n${e.message}`;
    console.error(`${e.message}\nv=${JSON.stringify(v)}`);
    alert(e.message);
  }
});
</script>
</html>