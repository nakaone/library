# 概要

## サンプルデータ

申込者の参加 | 宿泊、テント | 参加者01所属 | 参加者02所属 | 参加者03所属 | 参加者04所属 | 参加者05所属 | キャンセル
:-- | :-- | :-- | :-- | :-- | :-- | :-- | :--
参加予定(宿泊あり) | 宿泊する(テントあり) | 1年生 | 2年生 | 3年生 |  |  | 
参加予定(宿泊あり) | 宿泊する(テントなし) | 4年生 | 5年生 | 6年生 |  |  | 
参加予定(宿泊なし) | 宿泊しない | 未就学児 | 卒業生 | 保護者 |  |  | 
不参加 | 宿泊する(テントあり) | 1年生 | 2年生 | 3年生 |  |  | 
不参加 | 宿泊する(テントなし) | 4年生 | 5年生 | 6年生 |  |  | 
不参加 | 宿泊しない | 未就学児 | 卒業生 | 保護者 |  |  | 
スタッフとして申込者のみ参加(おやじの会メンバ) | 宿泊する(テントあり) |  |  |  |  |  | 
スタッフとして申込者のみ参加(おやじの会メンバ) | 宿泊する(テントなし) |  |  |  |  |  | 
スタッフとして申込者のみ参加(おやじの会メンバ) | 宿泊しない |  |  |  |  |  | 
スタッフとして申込者のみ参加(おやじの会メンバ) | 宿泊しない |  |  |  |  |  | 申込をキャンセルする
参加予定(宿泊なし) | 宿泊しない | 1年生 | 2年生 | 3年生 | 4年生 | 5年生 | 申込をキャンセルする

## 最終出力

<div><table><thead><tr><th colspan="3" rowspan="3"></th><th colspan="5">参加予定</th><th rowspan="3">参加取消</th></tr><tr><th colspan="3">宿泊</th><th rowspan="2">日帰り</th><th rowspan="2">参加計</th></tr><tr><th>テント</th><th>体育館</th><th>宿泊計</th></tr></thead><tbody><tr><th colspan="3">申込口数</th><td>2</td><td>2</td><td>4</td><td>2</td><td>6</td><td>1</td></tr><tr><th rowspan="13">申込人数</th><th rowspan="7">在校生</th><th>1年生</th><td>2</td><td>0</td><td>2</td><td>0</td><td>2</td><td>1</td></tr><tr><th>2年生</th><td>2</td><td>0</td><td>2</td><td>0</td><td>2</td><td>1</td></tr><tr><th>3年生</th><td>2</td><td>0</td><td>2</td><td>0</td><td>2</td><td>1</td></tr><tr><th>4年生</th><td>0</td><td>2</td><td>2</td><td>0</td><td>2</td><td>1</td></tr><tr><th>5年生</th><td>0</td><td>2</td><td>2</td><td>0</td><td>2</td><td>1</td></tr><tr><th>6年生</th><td>0</td><td>2</td><td>2</td><td>0</td><td>2</td><td>0</td></tr><tr><th>在校生計</th><td>6</td><td>6</td><td>12</td><td>0</td><td>12</td><td>5</td></tr><tr><th rowspan="4">関係者</th><th>未就学児</th><td>0</td><td>0</td><td>0</td><td>2</td><td>2</td><td>0</td></tr><tr><th>卒業生</th><td>0</td><td>0</td><td>0</td><td>2</td><td>2</td><td>0</td></tr><tr><th>保護者</th><td>1</td><td>1</td><td>2</td><td>3</td><td>5</td><td>1</td></tr><tr><th>関係者計</th><td>1</td><td>1</td><td>2</td><td>7</td><td>9</td><td>1</td></tr><tr><th colspan="2">申込人数計</th><td>7</td><td>7</td><td>14</td><td>7</td><td>21</td><td>6</td></tr><tr><th colspan="2">おやじの会</th><td>0</td><td>0</td><td>2</td><td>1</td><td>3</td><td>1</td></tr></tbody></table></div>

# normalizeによる「正規化」

クロス集計が容易になるよう、`{row:YYYY,col:XXXX}`形式に加工。1件1オブジェクトなので、numは持たない。

## step.1: 1件1Objに変換

「申込口数」は1オブジェクト=1件、「申込人数」は1オブジェクト=1人になるよう、arg.normalizeで加工する。

### 入力

```
{
  "申込者の参加": "参加予定(宿泊あり)",
  "宿泊、テント": "宿泊する(テントあり)",
  "参加者01所属": "1年生",
  "参加者02所属": "2年生",
  "参加者03所属": "3年生"
}
```

### 出力

```
[
  {row:"申込口数",col:"テント"},  // 1Objで1件
  {row:"保護者",col:"テント"},   // 申込者分。テントで宿泊なので列は「テント」
  {row:"1年生",col:"テント"},    // 以降、参加者分
  {row:"2年生",col:"テント"},
  {row:"3年生",col:"テント"},
]
```
