<!DOCTYPE html><html xml:lang="ja" lang="ja"><head>
<title>Reception sample</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link href="../szLib.css" rel="stylesheet" />
<style type="text/css"></style>
</head><body>
  <div class="Reception"></div>
</body>
<!-- =====================================================
  CDN
===================================================== -->
<!-- QRコード検出/生成 -->
<script src="https://cdn.jsdelivr.net/npm/jsqr@1.4.0/dist/jsQR.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<!-- cryptico -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/cryptico/0.0.1343522940/cryptico.min.js" integrity="sha512-C7GGRhFRn7F7hsLH1oCH2kX9ls61kx33wAgTZ6xJDwGvvgULcIZpwKqxG1+Kj/KOD2jWPxjNQYHi4BopPJPxVA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<!-- =====================================================
  自作ライブラリ
===================================================== -->
<script type="text/javascript" src="core.js"></script>
<script type="text/javascript" src="../Auth.js"></script>
<script type="text/javascript" src="../WebScanner/core.js"></script>
<script type="text/javascript" src="../itemSelector/core.js"></script>
<script type="text/javascript" src="../LoadingIcon/core.js"></script>
<script type="text/javascript" src="../Perticipants/core.js"></script>
<script type="text/javascript" src="../createElement.js"></script>
<script type="text/javascript" src="../createPassword.js"></script>
<script type="text/javascript" src="../mergeDeeply.js"></script>
<script type="text/javascript" src="../whichType.js"></script>
<script type="text/javascript" src="../setupInstance/core.js"></script>
<script type="text/javascript">
window.addEventListener('DOMContentLoaded',async () => {
  const v = {whois:'DOMContentLoaded',
    // Authテストデータ
    conf:{"parentSelector":"body","RSA":{"bits":1024,"passWord":"MBN:vs+F@MkH7E6w2V4FGc3$C9CkkTX-","pwLength":32,"sKey":{"n":{"0":44952895,"1":223629964,"2":23256811,"3":245896356,"4":203510922,"5":16268494,"6":119973185,"7":60448740,"8":198483413,"9":240459575,"10":205571214,"11":250729490,"12":10550085,"13":210373286,"14":103352072,"15":243663397,"16":147197471,"17":106415380,"18":4296298,"19":86004585,"20":22645544,"21":223492512,"22":10546168,"23":17281711,"24":124067500,"25":267433424,"26":179923530,"27":100714540,"28":257817734,"29":198023888,"30":199659189,"31":249839259,"32":57193739,"33":165685035,"34":263908368,"35":12817133,"36":35061,"37":0,"t":37,"s":0},"e":3,"d":{"0":149958827,"1":30996577,"2":38964663,"3":60537780,"4":176379041,"5":194976561,"6":199088358,"7":243911195,"8":266478016,"9":21707779,"10":171665684,"11":215169798,"12":174792263,"13":150166664,"14":43847963,"15":240928030,"16":4898553,"17":214798391,"18":181820913,"19":236293360,"20":104575514,"21":238473493,"22":185987749,"23":11521140,"24":172190152,"25":178288949,"26":119949020,"27":156621512,"28":171878489,"29":42537440,"30":43627641,"31":77081021,"32":127607645,"33":199935175,"34":265417397,"35":8544755,"36":23374,"t":37,"s":0},"p":{"0":17705857,"1":171623997,"2":19458540,"3":182075484,"4":97057568,"5":33084828,"6":6378147,"7":34218210,"8":30875098,"9":33994237,"10":54378335,"11":210612895,"12":77491846,"13":133074053,"14":251118488,"15":124685332,"16":67696275,"17":165601285,"18":233,"t":19,"s":0},"q":{"0":204961983,"1":139728828,"2":213786732,"3":107231929,"4":244537976,"5":227589735,"6":217615683,"7":197234648,"8":170544473,"9":173903668,"10":162129809,"11":120015081,"12":207740755,"13":254702419,"14":54897094,"15":160239203,"16":206371093,"17":21269692,"18":150,"t":19,"s":0},"dmp1":{"0":190760875,"1":24937512,"2":191929331,"3":31905170,"4":154183531,"5":111535037,"6":93730583,"7":112290625,"8":199540369,"9":22662824,"10":215209194,"11":140408596,"12":141139716,"13":88716035,"14":77933840,"15":83123555,"16":45130850,"17":199879342,"18":155,"19":226119806,"20":182631037,"21":232002973,"22":250444923,"23":252503802,"24":241204975,"25":234555607,"26":131489765,"27":24217830,"28":115935779,"29":18608054,"30":258967025,"31":138493836,"32":259280098,"33":215555033,"34":196304620,"35":48102243,"36":14179795,"37":100,"t":19,"s":0},"dmq1":{"0":226119807,"1":182631037,"2":232002973,"3":250444923,"4":252503802,"5":241204975,"6":234555607,"7":131489765,"8":24217830,"9":115935779,"10":18608054,"11":258967025,"12":138493836,"13":259280098,"14":215555033,"15":196304620,"16":48102243,"17":14179795,"18":100,"19":190760874,"20":24937512,"21":191929331,"22":31905170,"23":154183531,"24":111535037,"25":93730583,"26":112290625,"27":199540369,"28":22662824,"29":215209194,"30":140408596,"31":141139716,"32":88716035,"33":77933840,"34":83123555,"35":45130850,"36":199879342,"37":155,"t":19,"s":0},"coeff":{"0":264339782,"1":118317870,"2":220123859,"3":96519652,"4":144455754,"5":16123371,"6":48552513,"7":109280516,"8":12209504,"9":179743349,"10":228600009,"11":182054075,"12":94901522,"13":126300372,"14":242164014,"15":220748709,"16":77825479,"17":147705968,"18":164,"t":19,"s":0}},"pKey":"iPUMOS7fuuwQngJys2i1C+5D6bvmjrW82a0PXfyGYAyCyrlqSv8LXQdlHqwQeyrwoOv41SOaAVmLKFIFNpBBjmplfFFIxg4f6GAiVikHCMigqmCg+0XvHUEsQMSO5VHze9Sd1Tml/kcmpUEPg8zsIVSK6oFKQWLe69VFKMKt7T8="},"commonKey":"4%INz5RdZ_H<awW*","info":{"タイムスタンプ":"2023-08-01T06:36:48.485Z","メールアドレス":"nakaone.kunihiro@gmail.com","申込者氏名":"国生　さゆり","申込者カナ":"コクショウ　サユリ","申込者の参加":"参加予定(宿泊あり)","宿泊、テント":"宿泊する(テントなし)","引取者氏名":"申込者が参加して帰宅時の付添もするのでお迎えは不要","参加者01氏名":"国生　二郎","参加者01カナ":"コクショウ　ジロウ","参加者01所属":"未就学児","参加者02氏名":"","参加者02カナ":"","参加者02所属":"","参加者03氏名":"","参加者03カナ":"","参加者03所属":"","参加者04氏名":"","参加者04カナ":"","参加者04所属":"","参加者05カナ":"","参加者05氏名":"","参加者05所属":"","緊急連絡先":"","ボランティア募集":"","備考":"","キャンセル":"","":"","name":"","entryStr":"","authority":"2","cancel":"","entryNo":"8","publicKey":"iPUMOS7fuuwQngJys2i1C+5D6bvmjrW82a0PXfyGYAyCyrlqSv8LXQdlHqwQeyrwoOv41SOaAVmLKFIFNpBBjmplfFFIxg4f6GAiVikHCMigqmCg+0XvHUEsQMSO5VHze9Sd1Tml/kcmpUEPg8zsIVSK6oFKQWLe69VFKMKt7T8=","editURL":"https://docs.google.com/forms/d/e/1FAIpQLScEzS8-uNgeM40rZvGl60uZewwHZhyPeQJAicS_LjMEYrMqfQ/viewform?edit2=2_ABaOnueEf0MZp9TyeRuVRGK6toYaRDxYmY5_-w_psQH_VRBlAkAfIB2h8Kay9qRUUITM98E","passCode":"868670","genPassCode":"2023-08-25T04:43:06.611Z","NG1":"","NG2":"","certificate":"2023-08-25T04:43:33.237Z","fee00":"","fee01":"","fee02":"","fee03":"","fee04":"","fee05":"","memo":""},"gateway":{"url":"https://script.google.com/macros/s/AKfycbwSvy450w3Bu3GhbBlNFGS5bJAHWi91_gEC42tTtWScAkJUjdZ35SncfXi2slktGH9h/exec","pKey":"xVLOxRnL/simSWR+jGGJh3s/qIwaJDMrGV5yyRj6rDv3uOeV4jCxvlong7d0Oi9flDf7DRaRhAWpdzkvUNFqUlB1ZkypZkVj8nnW+NZiAX3OeIMnEFrLy5gcEE2oMN9AoseJvlAEZg0f+fk2AkaAYephIcTXiPtOfoPbOO9xhuE="},"front":{"url":null,"pKey":null},"entryNo":{"element":{},"value":"8","css":[{"sel":"dialog.Auth","prop":{"margin":"auto","padding":"1rem","box-shadow":"0 0 1rem black"}},{"sel":"dialog.Auth::backdrop","prop":{"background-color":"#ddd"}},{"sel":"dialog.Auth p","prop":{"font-size":"1.5rem","margin":"0.5rem 0"}},{"sel":"dialog.Auth li","prop":{"font-size":"1rem","margin":"0.5rem 0"}},{"sel":"dialog.Auth > input[type=\"text\"]","prop":{"font-size":"1.5rem","border":"solid 2px #888","height":"2rem","width":"6rem"}},{"sel":"dialog.Auth > input[type=\"button\"]","prop":{"font-size":"1rem","padding":"0.25rem 1rem","margin-left":"1rem"}}],"dialog":"<p>受付番号を入力してください</p>","rex":{}},"loading":{"element":null,"zIndex":2147483647},"passCode":{"element":{},"value":"868670","dialog":"<p>確認のメールを送信しました。<br>\n          記載されているパスコード(数字6桁)を入力してください。</p>\n          <ol>\n            <li>パスコードの有効期限は1時間です</li>\n            <li>まれに迷惑メールと判定される場合があります。<br>メールが来ない場合、そちらもご確認ください。</li>\n            <li>3回連続誤入力で1時間ロックアウトされます。</li>\n          </ol>","rex":{}},"parentWindow":{}},
    // 認証局
    gwURL:'https://script.google.com/macros/s/AKfycbwSvy450w3Bu3GhbBlNFGS5bJAHWi91_gEC42tTtWScAkJUjdZ35SncfXi2slktGH9h/exec',
  };
  console.log(v.whois+' start.');
  try {

    v.auth = new Auth(v.gwURL,v.conf);
    console.log(v.auth);
    v.Reception = new Reception(
      v.auth, // auth object
      document.querySelector('div.Reception'), // parent
      {}
    );
    if( v.rv instanceof Error ) throw v.Reception;
    console.log(v.Reception);

    console.log(await v.Reception.main());

    console.log(v.whois+' normal end.',v.rv);
  } catch(e){
    console.error(e,v);
  }
});
</script>
</html>